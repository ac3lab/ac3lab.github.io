<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Prevendo Resultados no Futebol - Parte 3 | ACE Laboratory </title> <meta name="author" content="ACE Laboratory"> <meta name="description" content="Marrying academic rigor with practical applications to benefit sports "> <meta name="keywords" content="soccer, futebol, data-science, ufrj, ace"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ac3lab.github.io/blog/2000/post_poisson_3_pt/"> <script src="/assets/js/theme.js?9190cd960c1fe52d4362ac1570d054ba"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">ACE</span> Laboratory </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/profile/">Research Team </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">SAFE 2025 </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/safe2025/sobre/">Sobre o Evento</a> <a class="dropdown-item " href="/safe2025/patrocinio-safe2025/">Planos de Patrocínio</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">Pesquisar <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Prevendo Resultados no Futebol - Parte 3</h1> <p class="post-meta"> Created on January 01, 2000 by Ace Laboratory Football Team - Lucas Calmon, Pedro Carvalho </p> <p class="post-tags"> <a href="/blog/2000"> <i class="fa-solid fa-calendar fa-sm"></i> 2000 </a>   ·   <a href="/blog/tag/football"> <i class="fa-solid fa-hashtag fa-sm"></i> Football;</a>   <a href="/blog/tag/analysis"> <i class="fa-solid fa-hashtag fa-sm"></i> Analysis</a>   ·   <a href="/blog/category/football"> <i class="fa-solid fa-tag fa-sm"></i> Football;</a>   <a href="/blog/category/analysis"> <i class="fa-solid fa-tag fa-sm"></i> Analysis</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2> <b> Introdução </b> </h2> <div style="text-align: justify"> Neste último post da série de Previsão de Resultados, vamos apresentar a Distribuição de Poisson. Desta vez, vamos fazer algo diferente: explicaremos o que é a Distribuição de Poisson e o passo a passo de como prever qual será o placar de uma partida. <br><br> <h3> <b> A distribuição de Poisson </b> </h3> A distribuição de Poisson é uma distribuição de probabilidade discreta que expressa a probabilidade de ocorrência de um determinado número de eventos em um intervalo fixo de tempo ou espaço. Ele pressupõe que esses eventos ocorram com uma taxa média conhecida e independentemente do tempo decorrido desde o último evento. <br><br> <div style="width: 100%; margin: 0 auto; text-align: center;"> <figure> <picture> <img src="/assets/img/Posts_Images/2025-05-16-post_poisson_3/image1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <center>A fórmula da distribuição de Poisson. <br><br> </center> O lado esquerdo da fórmula da distribuição de Poisson, P(X = k), representa a probabilidade de ocorrência de exatamente k eventos em um intervalo fixo. Aqui, X é o número de eventos e k é o número específico no qual estamos interessados. <br><br> O numerador do lado direito, e<sup>-λ</sup> λ<sup>k</sup>, tem duas partes. λ<sup>k</sup> mostra a probabilidade de ocorrência de k eventos com base na taxa média λ. O e<sup>-λ</sup> é responsável pela aleatoriedade dos eventos, garantindo que a probabilidade diminua à medida que o número de eventos se desvia da taxa esperada. <br><br> O denominador do lado direito, k! ajusta a quantidade de maneiras pelas quais os eventos x podem ocorrer. A notação fatorial calcula o número de arranjos possíveis, garantindo que a probabilidade reflita o fato de que a ordem dos eventos não importa. <br><br> <h3> <b> Como usar no futebol? </b> </h3> Antes de tudo, é necessário esclarecer uma coisa: Existem diversos modelos de previsão de gols com distribuição de poisson, mas nós vamos utilizar o mais simples, que utiliza apenas o histórico de partidas das duas equipes. Modelos mais complexos podem levar em conta outras variáveis, como qualidade do gramado, histórico de disputas entre as equipes, entre outros. <br><br> Para começar, precisamos decidir que jogos queremos prever: pra esse post vamos tentar prever o número de gols de um clássico Fla-Flu (com o Fluminense como Mandante) em 2023, utilizando os dados dos dois times da temporada 2022 do Brasileirão. <br><br> <h3> <b> Preparando a tabela </b> </h3> Utilizamos os resultados de todas as partidas do Brasileirão 2022, extraídos do site FBREF. Os dados no site vem com diversas informações, mas só vamos usar o resultado de cada partida. Para realizar os passos seguintes, foi necessário separar os dados em “Mandante”, “Visitante”, “Gols do Mandante” e “Gols do Visitante”. <br><br> <h3> <b> Calcular a Capacidade Ofensiva e Defensiva do Campeonato </b> </h3> Para prever o número de gols de um time, primeiro devemos calcular a Capacidade Ofensiva e a Capacidade Defensiva dos times do Brasileirão, baseando-se na última temporada. <br><br> A Capacidade Ofensiva é a média dos gols marcados por cada equipe, tanto em casa como fora. Ou seja, a conta é a seguinte: <br><br> <ul> <li>Total de gols marcados em casa/número de jogos</li> <li>Total de gols marcados fora/número de jogos</li> </ul> <br><br> Na temporada 2022 do Brasileirão, houve 534 gols em casa e 371 fora. Divididos pelo número de jogos (380), temos a Média de Gols Marcados em Casa como 1,405 e a Média de Gols Marcados Fora de Casa como 0,976.<br><br> Já a Capacidade Defensiva é a média dos gols sofridos por cada equipe, ou seja, o inverso da Capacidade Ofensiva, já que o número de gols marcados pelo time da casa é igual ao número de gols sofridos pela equipe visitante. Então a Média de Gols Sofridos em Casa é 0,976, e a Média de Gols Sofridos Fora de Casa é 1,405. <br><br> Agora nós podemos utilizar essas médias da liga para calcular as capacidades dos times que desejamos estudar. <br><br> <h3> <b> Prever os gols do Fluminense </b> </h3> Para calcular a Capacidade Ofensiva do Fluminense, precisamos pegar o número de gols marcados em Casa pelo Flu na temporada 2022 (39) e dividir pelo número de jogos em Casa (19) = 2,052. Então pegamos esse valor e dividimos pela Média de Gols Marcados em Casa na liga (1,405), obtendo uma Capacidade Ofensiva de 1,460.<br><br> Agora precisamos calcular a Capacidade Defensiva do Flamengo, para assim prever o número de gols do Fluminense. Para isso, pegamos o número de gols sofridos Fora de Casa pelo Flamengo (24) e dividimos isso pelo número de jogos fora (19) = 1,263. Então dividimos esse valor pela Média de Gols Sofridos Fora de Casa na liga (1,405), obtendo uma Capacidade Defensiva de 0,898.<br><br> Agora podemos fazer o seguinte cálculo para chegar no número provável de gols que o Fluminense marcará: Multiplicamos a Capacidade Ofensiva do Fluminense (1,460) pela Capacidade Defensiva do Flamengo (0,898) e a Média de Gols marcados em Casa (1,405). <br><br> <b>1.460 × 0.898 × 1.405 = 1.845 </b> <br><br> <h3> <b> Prever os gols do Flamengo </b> </h3> Para calcular o número de gols que o Flamengo pode marcar, é só utilizar as fórmulas acima, mas substituindo o número médio de gols marcados em casa pelo número médio de gols marcados fora de casa.<br><br> <ul> <li>Capacidade Ofensiva do Fla: (23/19) / 0.976 = 1.239</li> <li>Capacidade Defensiva do Flu: (20/19) / 0.976 = 1.078</li> </ul> <br><br> Então, multiplicamos esses valores com a Média de Gols marcados Fora de Casa: <br><br> <b>1.239 × 1.078 × 0.976 = 1.305 </b> <h3> <b> Utilizar a Distribuição de Poisson </b> </h3> Como nenhum jogo termina de 1,845 a 1,305, agora nós podemos usar esses números junto com a Distribuição de Poisson para distribuir 100% da probabilidade em um intervalo de gols marcados para cada equipe. Nós queremos prever a chance de cada time marcar um certo número de gols na partida (no nosso caso, de 0 a 5) -o número de ocorrências do evento-, e pra isso utilizaremos a probabilidade de gols que calculamos (1,845 para o Flu e 1,305 para o Fla) -as ocorrências esperadas. <br><br> Podemos fazer isso facilmente com Python utilizando o comando:<br><br> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td> <td class="code"><pre><span class="n">poisson</span><span class="p">.</span><span class="nf">pmf</span><span class="p">(</span><span class="n">NumOcorrencias</span><span class="p">,</span> <span class="n">OcorrenciasEsp</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></figure> <br><br> Calculando isso 6 vezes para cada time, chegamos no seguinte vetor: <table> <thead> <tr> <th style="color: white;">gols</th> <th style="color: white;">Fluminense</th> <th style="color: white;">Flamengo</th> </tr> </thead> <tbody> <tr> <td style="color: white;">0 gols</td> <td style="color: white;">15.80%</td> <td style="color: white;">27.11%</td> </tr> <tr> <td style="color: white;">1 gols</td> <td style="color: white;">29.15%</td> <td style="color: white;">35.39%</td> </tr> <tr> <td style="color: white;">2 gols</td> <td style="color: white;">26.90%</td> <td style="color: white;">23.09%</td> </tr> <tr> <td style="color: white;">3 gols</td> <td style="color: white;">16.54%</td> <td style="color: white;">10.05%</td> </tr> <tr> <td style="color: white;">4 gols</td> <td style="color: white;">7.63%</td> <td style="color: white;">3.28%</td> </tr> <tr> <td style="color: white;">5 gols</td> <td style="color: white;">2.82%</td> <td style="color: white;">0.86%</td> </tr> </tbody> </table> Uma vez que esses resultados são independentes, o resultado esperado da partida seria 1x1, já que a maior possibilidade para os dois times é marcar um gol. Multiplicando as probabilidades de cada time marcar um gol, conseguimos a probabilidade de um resultado 1x1 = 0,1031. <br><br> <b>0.2915 × 0.3539 = 0.1031</b><br><br> Utilizando o comando np.outer com esses dois vetores, conseguimos a probabilidade de cada combinação de resultado para a partida.<br><br> <div style="width: 100%; margin: 0 auto; text-align: center;"> <figure> <picture> <img src="/assets/img/Posts_Images/2025-05-16-post_poisson_3/image2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <center>Somando as probabilidades acima da linha diagonal (Fluminense ganha) chegamos na probabilidade do Fluminense vencer: 48,96% <br> Somando as probabilidades da diagonal chegamos a chance de um empate: 22,75% <br> Somando as probabilidades abaixo da linha diagonal (Flamengo ganha) chegamos na probabilidade do Flamengo vencer: 26,91% <br><br> </center> <h2> <b> Conclusion </b> </h2> <div style="width: 100%; margin: 0 auto; text-align: center;"> <figure> <picture> <img src="/assets/img/Posts_Images/2025-05-16-post_poisson_3/image3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <center>Tivemos 3 empates, 2 vitórias do Flamengo e 1 vitória do Fluminense. Em jogos que o Fluminense foi mandante, tivemos dois empates e uma vitória do Fluminense. <br><br> </center> A partir desse resultado podemos comparar com o primeiro confronto dos times no ano de 2023, que foi realizado na última rodada da taça guanabara em que o placar foi 2x1 para o time do Fluminense. O resultado do jogo é o segundo mais provável segundo o nosso modelo, o que indica que o jogo foi dentro da tendência esperada pelo desempenho ofensivo e defensivo dos times na temporada anterior. <br><br> Além disso, não foram utilizados os dados dos jogos anteriores do Campeonato Carioca de 2023, que geram valores de capacidade ofensiva e defensiva mais atualizados e consequentemente uma nova distribuição de probabilidades. <br><br> Com essa análise encerramos nossa série de posts, na qual mostramos alguns modelos de previsão aplicados ao futebol e como podemos usá-los para entender melhor o esporte. <div> </div> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/post_faltas_en/">Fouls in Sports: Strategy, Safety and Game Control</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/chelsea_psg_en/">Chelsea vs PSG: Blues Stun French Giants to Claim Club World Cup Crown</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/real_psg_en/">Real Madrid vs PSG: French Dominance Secures Club World Cup Final Spot</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/flu_chelsea_en/">Fluminense vs Chelsea: Brazilian Underdogs' Fairytale Run Ends in Semifinal</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/real_borussia_en/">Real Madrid vs Borussia Dortmund: A Champions League Rematch on the World Stage</a> </li> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>
      let giscusTheme = determineComputedTheme();
      let giscusAttributes = {
        src: 'https://giscus.app/client.js',
        'data-repo': 'ac3lab/ac3lab.github.io',
        'data-repo-id': 'R_kgDOLAwNZg',
        'data-category': 'General',
        'data-category-id': 'DIC_kwDOLAwNZs4CptXd',
        'data-mapping': 'pathname',
        'data-strict': '0',
        'data-reactions-enabled': '1',
        'data-emit-metadata': '0',
        'data-input-position': 'top',
        'data-theme': giscusTheme,
        'data-lang': 'en',
        crossorigin: 'anonymous',
        async: '',
      };

      let giscusScript = document.createElement('script');
      Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
      document.getElementById('giscus_thread').appendChild(giscusScript);
    </script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 ACE Laboratory. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TN7TBYJLBY"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-TN7TBYJLBY');
  </script> <script defer src="/assets/js/google-analytics-setup.js"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>