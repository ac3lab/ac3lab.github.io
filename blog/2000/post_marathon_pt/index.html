<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Maratona do Rio 2023 – Exploratória com um toque de estatística e modelagem preditiva | ACE Laboratory</title> <meta name="author" content="ACE Laboratory"> <meta name="description" content="Analisando os dados dos resultados da Maratona do Rio 2023 e esboçando um simples modelo de predição de performance"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ac3lab.github.io/blog/2000/post_marathon_pt/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?b8c402fe21142e44d879bfe7991fc730"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TN7TBYJLBY"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TN7TBYJLBY");</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span><img src="/assets/img/ACE_Logo.jpg" width="40" height="40" class="circular-cut">  </span><span class="font-weight-bold">ACE </span>Laboratory</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/profile/">Research Team</a> </li> <li class="nav-item "> <a class="nav-link" href="/event/">Event</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Maratona do Rio 2023 – Exploratória com um toque de estatística e modelagem preditiva</h1> <p class="post-meta">January 1, 2000• Ace Laboratory Running Team</p> <p class="post-tags"> <a href="/blog/2000"> <i class="fa-solid fa-calendar fa-sm"></i> 2000 </a>   ·   <a href="/blog/tag/running"> <i class="fa-solid fa-hashtag fa-sm"></i> Running;</a>   <a href="/blog/tag/rio"> <i class="fa-solid fa-hashtag fa-sm"></i> Rio</a>   <a href="/blog/tag/marathon"> <i class="fa-solid fa-hashtag fa-sm"></i> Marathon;</a>   <a href="/blog/tag/python"> <i class="fa-solid fa-hashtag fa-sm"></i> Python;</a>   <a href="/blog/tag/machinelearning"> <i class="fa-solid fa-hashtag fa-sm"></i> MachineLearning</a>     ·   <a href="/blog/category/running"> <i class="fa-solid fa-tag fa-sm"></i> Running;</a>   <a href="/blog/category/rio"> <i class="fa-solid fa-tag fa-sm"></i> Rio</a>   <a href="/blog/category/marathon"> <i class="fa-solid fa-tag fa-sm"></i> Marathon;</a>   <a href="/blog/category/python"> <i class="fa-solid fa-tag fa-sm"></i> Python;</a>   <a href="/blog/category/machinelearning"> <i class="fa-solid fa-tag fa-sm"></i> MachineLearning</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/0.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> Conveniência, praticidade e benefícios para saúde são alguns dos motivos que tornam a corrida um esporte atrativo, democrático e popular. É por isso que a corrida de rua vem ganhando expressão no mundo inteiro e que eventos como maratona já atrai milhares de atletas, seja elite ou amador. No Rio de Janeiro, por exemplo, a 21ª edição da Maratona ocorreu no feriadão de Corpus Christ de 2023, e contou com mais de 40 mil inscrições (considerando todos os percursos), movimentando a cidade inclusive economicamente. </p> <p align="justify"> O percurso de 42k, que passa pelos principais cartões postais da cidade, consagrou o queniano Josphat Kiprotich e a etíope Zinash Debebe como os vencedores da prova, ambos do pelotão de elite masculino e feminino. Kiprotich terminou a prova em 2h13min29s – dois segundos mais rápido que a marca anterior, enquanto Debebe finalizou em 2h36min00s. </p> <p align="justify"> Em pouco mais de um mês a cidade contará com mais uma edição do evento, e como estímulo para preparação, realizamos uma breve análise exploratória - com um toque preditivo - nos dados dos resultados do pelotão geral de 2023, de maneira que consigamos revelar alguns insights sobre a prova. Bora ver! </p> <p>Exploratória</p> <p align="justify"> Ao todo, foram analisadas informações de 5799 atletas do grupo geral, sendo 30% do gênero feminino. Dentre os inscritos, quando olhamos os grupos etários, a faixa com maior concentração, tanto de homens quanto de mulheres, é a de 40-44 anos. No gráfico abaixo conseguimos ver como se dá essa frequência nos diferentes grupos: </p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> Quando olhamos a frequência de atletas pela ótica da performance, vemos que há uma maior concentração de homens com tempo final de 3,5-4 horas. Já para o gênero feminino a maior concentração está em 4-4,5 horas. 5 mulheres finalizaram a prova com menos de 3 horas. </p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> O menor tempo feminino foi de 2h55min04s enquanto que o masculino foi de 2h28min33s. Já os maiores tempos foram 6h39min23s e 6h42min59s respectivamente, lembrando que estamos olhando para o tempo líquido (tempo entre o cruzamento das linhas de largada e chegada). No gráfico abaixo conseguimos ver as distribuições de tempo por gênero: </p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> Também é possível visualizar a distribuição do tempo final por faixa etária e para cada gênero declarado: </p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> Para os dois gêneros, a faixa que chama atenção por ter os atletas mais rápidos é a de 30-34 anos. Além disso, o grupo masculino teve 2 atletas inscritos com mais de 80 anos, o que deixa cada vez mais claro que para o esporte realmente não existe idade. </p> <p>Predição de performance</p> <p align="justify"> Usando como referência o artigo Prediction Marathon Using Artificial Intelligence [Lerebourg et al. 2023] e o artigo Pacing strategy of the finishers of the world marathon majors series [Kais et al. 2018], que avaliam o efeito de variáveis como gênero e idade na predição de performance usando modelos de regressão, utilizamos essas mesmas informações para treinar também um modelo de regressão multivariado que busca prever o tempo de conclusão da prova. </p> <p align="justify"> Para isso, usamos a biblioteca em python <a href="https://www.statsmodels.org/stable/index.html" rel="external nofollow noopener" target="_blank">statsmodels</a>, depois de realizar todo pré-processamento necessário nos dados e separá-los em treino e teste. Abaixo o gráfico que confronta o tempo real vs. o que foi predito pelo modelo: </p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/6.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> Pelo gráfico, uma conclusão que podemos tirar é que os valores previstos pelo modelo não acompanham os valores reais, na medida que eles vão crescendo. Além disso, avaliando as estatísticas da modelagem, a variável gênero aparentemente não exerce significância estatística na predição (p-value = 0.721). Sendo assim, nota-se a necessidade de contemplar outras variáveis na modelagem. Alguns trabalhos na literatura sugerem o uso das mais diversas informações na predição, como dados antropométricos, fisiológicos, biomecânicos, além de informações de treinamento como experiência, ritmo de passada e concentração de lactato sanguíneo. </p> <p>Resultados resumidos:</p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/7.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> Por fim, o gráfico de distribuição dos resíduos, já que uma das premissas para um bom ajuste de um modelo de regressão linear é que os resíduos sejam normalmente distribuídos: </p> <figure> <picture> <img src="/assets/img/Posts_Images/2024-05-02-post_marathon/8.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p align="justify"> A distribuição se assemelha a normal, porém com uma tímida assimetria positiva (concentração à esquerda). Existem vários testes que podemos realizar pra fazer essa verificação, e alguns deles já constam no quadro de resumo dos resultados, exposto acima. A <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.skew.html" rel="external nofollow noopener" target="_blank">Skewness</a>, por exemplo, já aponta a não normalidade e a assimetria da distribuição do erro (quanto mais próximo de 0 mais “normal” é a distribuição) e a <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kurtosis.html" rel="external nofollow noopener" target="_blank">Kurtosis</a> também, já que está associada ao achatamento da distribuição (para valores &gt; 3 a distribuição é mais “alta” que a distribuição normal). </p> <p align="justify"> Nesse caso, importante ficarmos alertas na avaliação dos intervalos de confiança, que podem estar equivocados. Além dessa, existem outras premissas para um bom fit de uma regressão, como expectativa nula e independência dos resíduos e homoscedasticidade (variação constante dos resíduos), mas como não é o foco do post, fica para um próximo debate. </p> <p>Discussão</p> <p align="justify"> Nesse post vimos algumas estatísticas descritivas dos resultados da Maratona do Rio 2023 do grupo geral, visualizando como a performance se dá para os diferentes grupos etários e por gênero. Nesses dados, esboçamos um simples modelo de predição de performance, mas já gerando a provocação do quão desafiador pode ser a construção desse tipo de modelo com poucas informações. </p> <p align="justify"> A corrida de rua é um esporte que vem crescendo muito e o debate sobre contribuintes para melhora na performance está longe de se esgotar. Esperamos absorver e contribuir cada vez mais desse processo. </p> <p align="justify"> Esperamos que tenha aproveitado a leitura e qualquer sugestão é bem vinda. </p> <p>Referências</p> <p>https://maratonadorio.com.br/<br> https://www.folhavitoria.com.br/esportes/blogs/corridaderua/2023/08/17/estudo-realizado-na-maratona-do-rio-2023-comprova-o-sucesso-do-evento-deste-ano/<br> Ülari K., et al. Pacing strategy of the finishers of the world marathon majors series. Institute of Sport Sciences and Physiotherapy, University of Tartu, Tartu, Estonia. 2018.<br> Lerebourg, L. et al. Prediction Marathon Using Artificial Intelligence. Int J Sports Med, 2023, 44: 352–360.</p> </div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 ACE Laboratory. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?9b43d6e67ddc7c0855b1478ee4c48c2d" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TN7TBYJLBY"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TN7TBYJLBY");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>